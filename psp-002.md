<!-- markdownlint-disable MD024 -->

# Title

* **PSP Number:** 002
* **Authors:** Fabio Lama <github.com/lamafab, fabio@web3.foundation>
* **Status:** Call for Feedback
* **Created:** 2020-02-25
* **Reference Implementation:** <https://github.com/paritytech/substrate>

## Summary

A summary of the standard and the addressed issue.

## Motivation

The motivation should describe what motivated the development of the standard as well as why particular decisions were made.

## Specification

## JSON-PRC methods

* [System](#System)
  * [system_name](#system_name)
  * [system_version](#system_version)
  * [system_chain](#system_chain)
  * [system_properties](#system_properties)
  * [system_health](#system_health)
  * [system_peers](#system_peers)
  * [system_networkState](#system_networkState)
  * [system_addReservedPeer](#system_addReservedPeer)
  * [system_removeReservedPeer](#system_removeReservedPeer)
  * [system_nodeRoles](#system_nodeRoles)
* [Author](#Author)
  * [author_submitExtrinsic_TODO](#author_submitExtrinsic_TODO)
  * [author_insertKey](#author_insertKey)
  * [author_rotateKeys](#author_rotateKeys)
  * [author_hasSessionKeys](#author_hasSessionKeys)
  * [author_hasKey](#author_hasKey)
  * [author_pendingExtrinsics](#author_pendingExtrinsics)
  * [author_removeExtrinsic](#author_removeExtrinsic)
* [Chain](#Chain)
  * [chain_getHeader](#chain_getHeader)
  * [chain_getBlock](#chain_getBlock)
  * [chain_getBlockHash](#chain_getBlockHash)
  * [chain_getFinalizedHead](#chain_getFinalizedHead)
* [Offchain](#Offchain)
  * [offchain_localStorageSet](#offchain_localStorageSet)
  * [offchain_localStorageGet](#offchain_localStorageGet)
  * [offchain_localStorageGet](#offchain_localStorageGet)
* [State](#State)
  * [state_call_TODO](#state_call_TODO)
  * [state_getPairs_TODO](#state_getPairs_TODO)
  * [state_getKeysPaged_TODO](#state_getKeysPaged_TODO)
  * [state_getStorage](#state_getStorage)
  * [state_getStorageHash](#state_getStorageHash)
  * [state_getStorageSize](#state_getStorageSize)
  * [state_getChildKeys_TODO](#state_getChildKeys_TODO)
  * [state_getChildStorage_TODO](#state_getChildStorage_TODO)
  * [state_getChildStorageHash_TODO](#state_getChildStorageHash_TODO)
  * [state_getChildStorageSize](#state_getChildStorageSize)
  * [state_getRuntimeVersion](#state_getRuntimeVersion)
  * [state_queryStorage_TODO](#state_queryStorage_TODO)
* [Engine](#Engine)
  * [engine_createBlock_TODO](#engine_createBlock_TODO)
  * [engine_finalizeBlock_TODO](#engine_finalizeBlock_TODO)
* [Engine](#Engine)
  * [payment_queryInfo_TODO](#engine_finalizeBlock_TODO)
* [System](#System)
  * [system_accountNextIndex_TODO](#system_accountNextIndex_TODO)

## System

System RPC API.

### system_name

Get the node's implementation name.

#### Parameters

None.

#### Returns

`STRING` - The node's name.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_name", "params":[]}'

// Response
{"jsonrpc":"2.0","result":"parity-polkadot","id":1}
```

### system_version

Get the node implementation's version. Should be a semver string.

#### Parameters

None.

#### Returns

`STRING` - The node's version.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_version", "params":[]}'

// Response
{"jsonrpc":"2.0","result":"0.7.20","id":1}
```

### system_chain

Get the chain's type. Given as a string identifier.

#### Parameters

None.

#### Returns

`STRING` - The chain's type.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_chain", "params":[]}'

// Response
{"jsonrpc":"2.0","result":"Kusama CC3","id":1}
```

### system_properties

Get a custom set of properties as a JSON object, defined in the chain spec. *TODO*: Link to the PSP about the chain spec file.

#### Parameters

None.

#### Returns

* `Object`
  * `STRING`: `VALUE` - Property name and value

**Note**: The type of `VALUE` varies depending on the chain spec.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_properties", "params":[]}'

// Response
{"jsonrpc":"2.0","result":{"ss58Format":2,"tokenDecimals":12,"tokenSymbol":"KSM"},"id":1}
```

### system_health

Return health status of the node.

Node is considered healthy if it is:

* connected to some peers (unless running in dev mode)
* not performing a major sync

#### Parameters

None.

#### Returns

* `Object`
  * `isSyncing`: `BOOL` - Whether the node is syncing.
  * `peers`: `U32` - Number of connected peers.
  * `shouldHavePeers`: `BOOL` - Should this node have any peers. Might be false for local chains or when running without discovery.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_health", "params":[]}'

// Response
{"jsonrpc":"2.0","result":{"isSyncing":false,"peers":46,"shouldHavePeers":true},"id":1}
```

### system_peers

Returns currently connected peers.

#### Parameters

None.

#### Returns

* `ARRAY`
  * `OBJECT` - A *PeerInfo* object.
    * `"PeerId"`: `STRING` - Peer ID.
    * `"roles"`: `STRING` - Roles of the node. One of the following values is possible:
      * `"NONE"` - No network.
      * `"FULL"` - Full node, does not participate in consensus.
      * `"LIGHT"` - Light client node.
      * `"AUTHORITY"` - Acts as an authority.
    * `"protocolVersion"`: `U32` - Protocol version.
    * `"bestHash"`: `STRING` - Peer best block hash.
    * `"bestNumber"`: `U64` - Peer best block number.

TODO: This should have the same `roles` types as `system_nodeRoles`.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_peers", "params":[]}' http://localhost:9933

// Response
{"jsonrpc":"2.0","result":[{"bestHash":"0x603b65f208656860f7d31f494896ac2ddcff37674442a84dfbcc1de0eacd83e2","bestNumber":1193270,"peerId":"QmTjJKhuLXKg9CfKkgGgJrzZ7LVfSmSUkQqFfZk1prF7LE","protocolVersion":6,"roles":"AUTHORITY"},{"bestHash":"0x603b65f208656860f7d31f494896ac2ddcff37674442a84dfbcc1de0eacd83e2","bestNumber":1193270,"peerId":"Qme89h5f5MkdN37R173z5GSJVBVSGeUriSrp4u3Y2ZRmUv","protocolVersion":6,"roles":"AUTHORITY"}],"id":1}
```

### system_networkState

Returns current state of the network. **Warning**: This API is not stable.

#### Parameters

TODO (wait till stable)

#### Returns

TODO (wait till stable)

#### Example

TODO (wait till stable)

```bash
```

### system_addReservedPeer

Adds a reserved peer. Returns the empty string or an error. The string parameter should encode a `p2p` multiaddr.

`/ip4/198.51.100.19/tcp/30333/p2p/QmSk5HQbn6LhUwDiNMseVUjuRYhEtYj4aUZ6WfWoGURpdV` is an example of a valid, passing multiaddr with PeerId attached.

#### Parameters

* `STRING` - Multiaddr to be added.

#### Returns

None.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_addReservedPeer", "params":["/ip4/198.51.100.19/tcp/30333/p2p/QmSk5HQbn6LhUwDiNMseVUjuRYhEtYj4aUZ6WfWoGURpdV"]}'

// Response
{"jsonrpc":"2.0","result":null,"id":1}
```

### system_removeReservedPeer

Remove a reserved peer. Returns the empty string or an error. The string should encode only the PeerId e.g. `QmSk5HQbn6LhUwDiNMseVUjuRYhEtYj4aUZ6WfWoGURpdV`.

#### Parameters

* `STRING` - Peer ID to be removed.

#### Returns

None.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_removeReservedPeer", "params":["QmSk5HQbn6LhUwDiNMseVUjuRYhEtYj4aUZ6WfWoGURpdV"]}'

// Response
{"jsonrpc":"2.0","result":null,"id":1}

```

### system_nodeRoles

Returns the roles the node is running as.

#### Parameters

None.

#### Returns

* `ARRAY`
  * `STRING` - One of the following values is possible:
    * `"Full"` - The node is a full node.
    * `"LightClient"` - The node is a a light client.
    * `"Authority"` - The node is an authority.
    * `"UnknownRole` - An unknown role followed by an arbitrary byte value. *TODO*: define additional byte value.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "system_nodeRoles", "params":[]}'

// Response
{"jsonrpc":"2.0","result":["Authority"],"id":1}
```

## Author

Authoring RPC API.

Polkadot separates keys into different types, depending on its use-case. Following variants are possible:

* `"babe"` - Babe functionality.
* `"gran"` - GRANDPA functionality.
* `"acco"` - Controlling an account.
* `"aura"` - Aura functionality.
* `"imon"` - *ImOnline* functionality.
* `"audi"` - Authority discovery functionality.
* `"dumy"` - Useful for testing.

### author_submitExtrinsic_TODO

Submit hex-encoded extrinsic for inclusion in block.

#### Parameters

* `STRING` - A SCALE encoded extrinsic represented as hex.

#### Returns

#### Example

```bash
```

### author_insertKey

Insert a key into the keystore.

#### Parameters

* `STRING` - Key type.
* `STRING` - Hex encoded seed.
* `STRING` - Hex encoded public.

#### Returns

None.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "author_insertKey", "params":["dumy", "0x3fb882f70b4ddf5f8923f4a2d3b30a20f79bc0c5de212c1a8977f4972272db8d", "0x5ebf69cfbb4914711f70ff3b9e7455f7d5006b15f220d011387038cf4fb1593e"]}'

// Response
{"jsonrpc":"2.0","result":null,"id":1}
```

### author_rotateKeys

Generate new session keys and returns the corresponding public keys.

#### Parameters

None.

#### Returns

* `STRING` - SCALE encoded keys represented as hex.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "author_rotateKeys", "params":[]}'

// Response
{"jsonrpc":"2.0","result":"0x8c0baa0b4cf42e669a3805c1d6405926c9adf0691f854a6ddaffde3abc1dbd6b7c70cc7d2a731186ec54e26e0b0509667376d818643a5969549e44a76dc42f5a041b0120d2fc6d686e1bec66f596ddcce78da4029a23b3c213c55d2a064e9c26a20ab338080835b845e71573c3197795b729a1015b504a8352ee7dcbce92296c28bcc393e3cb1b18f597c597a458e21f706374e75f35445132977a66519d731d","id":1}
```

### author_hasSessionKeys

Checks if the keystore has private keys for the given session public keys.

#### Parameters

* `STRING`- SCALE encoded, concatenated keys represented as hex.

#### Returns

* `BOOL` - Returns `true` if all private keys could be found.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "author_hasSessionKeys", "params":["0x8c0baa0b4cf42e669a3805c1d6405926c9adf0691f854a6ddaffde3abc1dbd6b7c70cc7d2a731186ec54e26e0b0509667376d818643a5969549e44a76dc42f5a041b0120d2fc6d686e1bec66f596ddcce78da4029a23b3c213c55d2a064e9c26a20ab338080835b845e71573c3197795b729a1015b504a8352ee7dcbce92296c28bcc393e3cb1b18f597c597a458e21f706374e75f35445132977a66519d731d"]}'

// Response
{"jsonrpc":"2.0","result":true,"id":1}
```

### author_hasKey

Checks if the keystore has private keys for the given public key and key type.

#### Parameters

* `STRING` - Hex-encoded public key.
* `STRING` - Key type.

#### Returns

* `BOOL` - Returns `true` if a private key could be found.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "author_hasKey", "params":["0x5ebf69cfbb4914711f70ff3b9e7455f7d5006b15f220d011387038cf4fb1593e", "dumy"]}'

// Response
{"jsonrpc":"2.0","result":true,"id":1}
```

### author_pendingExtrinsics

Returns all pending extrinsics, potentially grouped by sender.

#### Parameters

None.

#### Returns

* `ARRAY`
  * `STRING` - (optional) SCALE encoded extrinsic represented as hex.

#### Example

*TODO*: Add an example where the extrinsic is visible.

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "author_pendingExtrinsics", "params":[]}'

// Response
{"jsonrpc":"2.0","result":[],"id":1}
```

### author_removeExtrinsic

Remove given extrinsic from the pool and temporarily ban it to prevent reimporting.

#### Parameters

* `STRING` - SCALE encoded array of extrinsics or its hash represtend as hex.

#### Returns

* `ARRAY`
  * `STRING` - Hex encoded hash of extrinsic that was removed.

#### Example TODO

```bash
```

## Chain

Blockchain RPC API.

### chain_getHeader

Get header of a relay chain block. If no block hash is provided, the latest block header will be returned.

#### Parameters

* `STRING` - (optional) Hex encoded hash of a block.

#### Returns

* `Object` - (optional).
  * `"parentHash"`: `STRING` - Hex encoded parent hash.
  * `"number"`: `STRING` - Hex encoded block number.
  * `"stateRoot"`: `STRING` - Hex encoded state trie merkle root.
  * `"extrinsicsRoot"`: `STRING` - Hex encoded merkle root of the extrinsics.
  * `"digest"`: `Object` - Chain-specific digest of data useful for light clients or auxiliary data.
    * `"log"`: `ARRAY` - A list of logs in the digest.
      * `Object` - A *DigestItem* object. Contains varying data types. *TODO*: define those.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "chain_getHeader", "params":[]}'

// Response
{"jsonrpc":"2.0","result":{"digest":{"logs":["0x064241424534020b000000497fb90f00000000","0x05424142450101f4b34c2a153dc4912c859ac9542c4345911ed0c1cae18c9704d6566f2689ac158681adfd0410a9e1c97a50b0c455af1b4d5447cbd4c4da1a6ebcd53ee5d3ee89"]},"extrinsicsRoot":"0x01f31561613c605d96d0572b7dda3884ccc2f9f890538974007eb610784216d9","number":"0x12d2a9","parentHash":"0x281270fff803f40aad2f5e6bc113f6814060cc2f435bf6e4526795ec9d73a62d","stateRoot":"0xc51f09252a24f7965c892a4f57d5ec5985830ac90b32da0a045b92457ebc5b39"},"id":1}
```

### chain_getBlock

Get header and body of a relay chain block. If no block hash is provided, the latest block body will be returned.

#### Parameters

* `STRING` - (optional) Hex encoded hash of a block.

#### Returns

* `Object` - (optional).
  * `"block"`: `Object`
    * `"extrinsics"`: `Array`
      * `STRING` - An extrinsic. *TODO*: define this.
    * `"header"`: `Object`
      * `"parentHash"`: `STRING` - Hex encoded parent hash.
      * `"number"`: `STRING` - Hex encoded block number.
      * `"stateRoot"`: `STRING` - Hex encoded state trie merkle root.
      * `"extrinsicsRoot"`: `STRING` - Hex encoded merkle root of the extrinsics.
      * `"digest"`: `Object` - Chain-specific digest of data useful for light clients or auxiliary data.
        * `"log"`: `ARRAY` - A list of logs in the digest.
          * `Object` - A *DigestItem* object. Contains varying data types. *TODO*: define those.
  * `"justification"`: `STRING` - (optional) The hex encoded justification.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "chain_getBlock", "params":[]}'

// Response
{"jsonrpc":"2.0","result":{"block":{"extrinsics":["0x280402000bb0019c8b7001","0x1c0409006a4b4b00","0x1004140000"],"header":{"digest":{"logs":["0x06424142453402610000007d7fb90f00000000","0x0542414245010166b01406e966b6604ea996cda5355c5f24fffee6cb2082802105f136b456c9412855a0cce4058f08ccf9ce822cd94a6ae786037a8566310765a043a09514488a"]},"extrinsicsRoot":"0x1ce1236c8262cead39a2a758fc4cdba0b918f309e5a8572c288c5ba2c16aa7a7","number":"0x12d2dd","parentHash":"0x78b7af6942c220ec33945f228f1e17383403561f8d7bbc02da2c79650f22fdbe","stateRoot":"0xa6387842acac9315ad4424828f571c348a40bdfb9f9b4cb4951bcb76e43dacfb"}},"justification":null},"id":1}
```

### chain_getBlockHash

Get hash of the 'n-th' block in the canon chain. If no parameters are provided, the latest block hash gets returned.

Alias: `chain_getHead`

#### Parameters

* (optional) One of the following types is allowed:
  * `STRING` - Hex encoded value indicating the 'n-th' block in the chain.
  * `U32` - Value indicating the 'n-th' block in the chain.
  * `ARRAY` - Multiple values, where each value can be one of the following types:
    * `STRING` - Hex encoded value indicating the 'n-th' block in the chain.
    * `U32` - Value indicating the 'n-th' block in the chain.

#### Returns

* (optional) One of the following types gets returned, depending on the provided parameters:
  * `STRING` - Hex encoded hash
  * `ARRAY`
    * `STRING` - Hex encoded hash

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "chain_getBlockHash", "params":[50]}'

// Response
{"jsonrpc":"2.0","result":"0x4fee9b1803132954978652e4d73d4ec5b0dffae3832449cd5e4e4081d539aa22","id":1}

// Request (specify multiple blocks)
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "chain_getBlockHash", "params":[[50, "0x64", 200]]}'

// Response
{"jsonrpc":"2.0","result":["0x4fee9b1803132954978652e4d73d4ec5b0dffae3832449cd5e4e4081d539aa22","0x46781d9a3350a0e02dbea4b5e7aee7c139331a65b2cd736bb45a824c2f3ffd1a","0x0f82403bcd4f7d4d23ce04775d112cd5dede13633924de6cb048d2676e322950"],"id":1}
```

### chain_getFinalizedHead

Get hash of the last finalized block in the canon chain.

Alias: `chain_getFinalisedHead`

#### Parameters

None.

#### Returns

* `STRING` - Hex encoded hash of the last finalized block.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "chain_getFinalizedHead", "params":[]}'

// Response
{"jsonrpc":"2.0","result":"0x00b8360db070d20fb2bc700a73240c65acb590d26ae8c477b0add48a3695bd35","id":1}
```

## Offchain

Blockchain RPC API.

The following Storage kinds are available:

* "PERSISTENT"
* "LOCAL"

*TODO*: Describe those types in more detail.
*TODO*: Shouldn't the values be non-hex?.

### offchain_localStorageSet

Set offchain local storage under given key and prefix.

#### Parameters

* `STRING` - Storage kind.
* `STRING` - Hex encoded key.
* `STRING` - Hex encoded value.

#### Returns

None.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "offchain_localStorageSet", "params":["PERSISTENT","0x4B6579","0x56616C7565"]}'

// Response
{"jsonrpc":"2.0","result":null,"id":1}
```

### offchain_localStorageGet

Get offchain local storage under given key and prefix.

#### Parameters

* `STRING` - Storage kind.
* `STRING` - Hex encoded key.

#### Returns

* `STRING` - (optional) A hex encoded key.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "offchain_localStorageGet", "params":["PERSISTENT","0x4B6579"]}'

// Response
{"jsonrpc":"2.0","result":"0x56616c7565","id":1}
```

## State

State RPC API.

### state_call_TODO

Call a contract at a block's state.

#### Parameters

#### Returns

#### Example

```bash
```

### state_getPairs_TODO

Returns the keys with prefix, leave empty to get all the keys.

#### Parameters

* `STRING` - Hex encoded prefix.
* `STRING` - (optional) Hex encoded hash.

#### Returns

* `Array`
  * `TUPLE` - A tuple containing the following values:
    * `STRING` - Hex encoded storage key
    * `STRING` - Hex encoded storage data

#### Example

```bash
```

### state_getKeysPaged_TODO

Returns the keys with prefix with pagination support.

#### Parameters

* `STRING` - (optional) A prefix.
* `U32` - Amount of keys to be return.
* `STRING` - (optional) Return the next keys after this one in lexicographic order.
* `STRING` -  (optional) ...

#### Returns

* `ARRAY`
  * `STRING` - Storage key

#### Example

```bash
```

### state_getStorage

Returns a storage entry at a specific block's state. If not block hash is provided, the latest value is returned.

#### Parameters

* `STRING` - Hex encoded storage key.
* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `STRING` - (optional) Hex encoded storage data.

#### Example TODO

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "state_getStorage", "params":["0xc2261276cc9d1f8598ea4b6a74b15c2f6482b9ade7bc6657aaca787ba1add3b458ad08561bd8f502d2ba488697d10b58aaa7c4097d4abb1c8861495348fd6970", null]}'

// Response
{"jsonrpc":"2.0","result":"0x00e40b54020000000000000000000000","id":1}
```

### state_getStorageHash

Returns the hash of a storage entry at a block's state. If no block hash is provided, the latest value is returned.

#### Parameters

* `STRING` - Hex encoded storage key
* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `STRING` - (optional) Hex encoded hash of the storage entry.

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "state_getStorageHash", "params":["0xc2261276cc9d1f8598ea4b6a74b15c2f6482b9ade7bc6657aaca787ba1add3b458ad08561bd8f502d2ba488697d10b58aaa7c4097d4abb1c8861495348fd6970", "0x579deccea7183c2afedbdaea59ad23e970458186afc4d57d5577842d4a219925"]}'

// Response
{"jsonrpc":"2.0","result":"0x7155ca82321b189fc7b9009d9a0c2ebffba28aad222e28986543f266a65064eb","id":1}
```

### state_getStorageSize

Returns the size of a storage entry at a block's state. If no block hash is provided, the latest value is used.

#### Parameters

* `STRING` - Hex encoded storage key.
* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `U64` - (optional) The size of the storage entry. *TODO*: spec metric

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "state_getStorageSize", "params":["0xc2261276cc9d1f8598ea4b6a74b15c2f6482b9ade7bc6657aaca787ba1add3b458ad08561bd8f502d2ba488697d10b58aaa7c4097d4abb1c8861495348fd6970", null]}'

// Response
{"jsonrpc":"2.0","result":16,"id":1}
```

### state_getChildKeys_TODO

Returns the keys with prefix from a child storage, leave empty to get all the keys.

#### Parameters

TODO: Define params

* `STRING` - Storage key.
* `STRING` - Child info.
* `u32` - Child type.
* `STRING` - Prefix.
* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `ARRAY`
  * `STRING` - Storage key.

#### Example

```bash
```

### state_getChildStorage_TODO

Returns a child storage entry at a specific block's state.

#### Parameters

TODO: Define params

* `STRING` - Storage key.
* `STRING` - Child info.
* `u32` - Child type.
* `STRING` - Storage key.
* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `STRING` - (optional) Storage data.

#### Example

```bash
```

### state_getChildStorageHash_TODO

Returns the hash of a child storage entry at a block's state.

#### Parameters

TODO: Define params

* `STRING` - Storage key.
* `STRING` - Child info.
* `u32` - Child type.
* `STRING` - Storage key.
* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `STRING` - (optional) Hex encoded hash of the child storage.

#### Example

```bash
```

### state_getChildStorageSize

Returns the size of a child storage entry at a block's state.

#### Parameters

TODO: Define params

* `STRING` - Storage key.
* `STRING` - Child info.
* `u32` - Child type.
* `STRING` - Storage key.
* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `U64` - (optional) The size of the storage entry. *TODO*: define metric

#### Example TODO

```bash
```

### state_getRuntimeVersion

Get the runtime version at a given block. If no block hash is provided, the latest version gets returned.

#### Parameters

* `STRING` - (optional) Hex encoded hash of the block.

#### Returns

* `Object`
  * `"specName"`: `STRING` - Name of the runtime.
  * `"implName"`: `STRING` - Name of the implementation of the specification.
  * `"authoringVersion"`: `U32` - Version of the authorship interface.
  * `"specVersion"`: `U32` - Version of the runtime specification.
  * `"implVersion"`: `U32` - Version of the implementation of the specification.
  * `"apis"`: `Array` - List of supported API features along with their version.
    * `Object`
      * `STRING` - Hex encoded feature name
      * `U32` - Version of the feature

#### Example

```bash
// Request
curl -H "Content-Type: application/json" -d '{"id":1, "jsonrpc":"2.0", "method": "state_getRuntimeVersion", "params":[]}'

// Response
{"jsonrpc":"2.0","result":{"apis":[["0xdf6acb689907609b",2],["0x37e397fc7c91f5e4",1],["0x40fe3ad401f8959a",4],["0xd2bc9897eed08f15",1],["0xf78b278be53f454c",2],["0xaf2c0297a23e6d3d",2],["0xed99c5acb25eedf5",2],["0xcbca25e39f142387",1],["0x687ad44ad37f03c2",1],["0xab3c0572291feb8b",1],["0xbc9d89904f5b923f",1],["0x37c8bb1350a9a2a8",1]],"authoringVersion":2,"implName":"parity-kusama","implVersion":0,"specName":"kusama","specVersion":1045},"id":1}
```

### state_queryStorage_TODO

Query historical storage entries (by key) starting from a block given as the second parameter.

NOTE This first returned result contains the initial state of storage for all keys. Subsequent values in the vector represent changes to the previous state (diffs).

#### Parameters

* `ARRAY`
  * `STRING` - Storate key.
* `STRING` - Hex encoded hash of the block.
* `STRING` - (optional) TODO

#### Returns

#### Example

```bash
```

## Engine

Engine RPC API.

### engine_createBlock_TODO

Instructs the manual-seal authorship task to create a new block.

#### Parameters

TODO

* `BOOL` - Set `true` to create an empty block.
* `BOOL` - Set `true` to finalize the block.
* `STRING` - (optional) Hex encoded parent hash

#### Returns

#### Example

```bash
```

### engine_finalizeBlock_TODO

Instructs the manual-seal authorship task to finalize a block.

#### Parameters

#### Returns

#### Example

```bash
```

## Payment

Payment PRC API.

### payment_queryInfo_TODO

#### Parameters

#### Returns

#### Example

```bash
```

## System

System PRC API.

### system_accountNextIndex_TODO

Returns the next valid index (aka nonce) for given account.

This method takes into consideration all pending transactions currently in the pool and if no transactions are found in the pool it fallbacks to query the index from the runtime (aka. state nonce).

#### Parameters

#### Returns

#### Example

```bash
```

## Tests

If applicable, please include a list of potential test cases to validate an implementation. 

## Copyright

Each PSP must be labeled as placed in the [public domain](https://creativecommons.org/publicdomain/zero/1.0/).
